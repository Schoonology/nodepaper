<!doctype html>
<html ng-app="nodepaper">
  <head>
    <base href="/editor/index.html">
    <meta name="fragment" content="!" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Nodepaper Editor</title>

    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/font-awesome.min.css" rel="stylesheet">
    <link href="/static/css/editor.css" rel="stylesheet">
    <link href="/static/css/codemirror.css" rel="stylesheet">
    <link href="/static/css/codemirror/monokai.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="span3">
          <ul class="nav nav-list" np-active>
            <li><a ng-href="meta">Meta</a></li>
          </ul>
          <ul class="nav nav-list well" ng-controller="PageNav" np-active>
            <li class="nav-header">Pages</li>
            <li ng-repeat="page in pages">
              <a ng-click="remove(page.name)" class="pull-right"><span class="icon-trash"></span></a>
              <a ng-href="pages/{{page.name}}" ng-bind="page.name"></a>
            </li>
            <li>
              <a ng-href="pages/new"><span class="icon-file"></span> New</a>
            </li>
          </ul>
          <ul class="nav nav-list well" ng-controller="ArticleNav" np-active>
            <li class="nav-header">Articles</li>
            <li ng-repeat="article in articles">
              <!-- <a ng-click="remove(article.name)" class="pull-right"><span class="icon-trash"></span></a> -->
              <a ng-href="articles/{{article.name}}" ng-bind="article.name"></a>
            </li>
            <li>
              <a ng-href="articles/new"><span class="icon-file"></span> New</a>
            </li>
          </ul>
        </div>
        <div class="span9">
          <div ng-view></div>
        </div>
      </div>
    </div>

    <script src="/static/js/lib/jquery.js"></script>
    <script src="/static/js/lib/angular.js"></script>
    <script src="/static/js/lib/bootstrap.min.js"></script>
    <script src="/static/js/lib/codemirror.js"></script>
    <script src="/static/js/lib/codemirror/javascript.js"></script>
    <script src="/static/js/lib/codemirror/xml.js"></script>
    <script src="/static/js/lib/codemirror/css.js"></script>
    <script src="/static/js/lib/codemirror/htmlmixed.js"></script>
    <script src="/static/js/lib/codemirror/edit/closetag.js"></script>
    <script src="/static/js/directive.codemirror.js"></script>
    <script src="/static/js/controllers.js"></script>
    <script src="/static/js/directives.js"></script>
    <script src="/static/js/services.js"></script>
    <!-- <script src="/static/js/lib/lawnchair.js"></script> -->
    <!-- <script src="/static/js/lib/moment.js"></script> -->
    <!-- <script src="/static/js/lib/jqconsole.min.js"></script> -->
    <!-- <script src="/static/js/cushion.js"></script> -->
    <script src="/static/js/lib/md5.js"></script>
    <script>
      angular
        .module('nodepaper', ['codemirror', 'nodepaper.directives', 'nodepaper.controllers'])
        .config(function ($routeProvider, $locationProvider) {
          $locationProvider.html5Mode(true).hashPrefix('!')
          $routeProvider
            .when('/articles/new', {
              templateUrl: '/static/partials/article.editor.html',
              controller: 'Article'
            })
            .when('/articles/:name', {
              templateUrl: '/static/partials/article.editor.html',
              controller: 'Article'
            })
            .when('/pages/new', {
              templateUrl: '/static/partials/page.editor.html',
              controller: 'Page'
            })
            .when('/pages/:name', {
              templateUrl: '/static/partials/page.editor.html',
              controller: 'Page'
            })
            .when('/meta', {
              templateUrl: '/static/partials/meta.editor.html',
              controller: 'Meta'
            })
            .otherwise({
              redirectTo: '/'
            })
        })
    </script>
  </body>
</html>
